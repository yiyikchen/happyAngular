{"version":3,"file":"st-data-source.d.ts","sources":["st-data-source.d.ts"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA","sourcesContent":["import { DecimalPipe } from '@angular/common';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { Observable } from 'rxjs';\nimport { DatePipe, YNPipe, _HttpClient } from '@delon/theme';\nimport { CurrencyService } from '@delon/util/format';\nimport type { NzSafeAny } from 'ng-zorro-antd/core/types';\nimport { STCustomRequestOptions, STData, STMultiSort, STMultiSortResultType, STPage, STReq, STRes, STRowClassName, STSingleSort, STStatisticalResults } from './st.interfaces';\nimport { _STColumn } from './st.types';\nexport interface STDataSourceOptions {\n    pi: number;\n    ps: number;\n    paginator: boolean;\n    data: string | STData[] | Observable<STData[]>;\n    total: number;\n    req: STReq;\n    res: STRes;\n    page: STPage;\n    columns: _STColumn[];\n    singleSort?: STSingleSort;\n    multiSort?: STMultiSort;\n    rowClassName?: STRowClassName;\n    customRequest?: (options: STCustomRequestOptions) => Observable<NzSafeAny>;\n}\nexport interface STDataSourceResult {\n    /** 是否需要显示分页器 */\n    pageShow: boolean;\n    /** 新 `pi`，若返回 `undefined` 表示用户受控 */\n    pi: number;\n    /** 新 `ps`，若返回 `undefined` 表示用户受控 */\n    ps: number;\n    /** 新 `total`，若返回 `undefined` 表示用户受控 */\n    total: number;\n    /** 数据 */\n    list: STData[];\n    /** 统计数据 */\n    statistical: STStatisticalResults;\n}\nexport declare class STDataSource {\n    private http;\n    private datePipe;\n    private ynPipe;\n    private numberPipe;\n    private currencySrv;\n    private dom;\n    private sortTick;\n    constructor(http: _HttpClient, datePipe: DatePipe, ynPipe: YNPipe, numberPipe: DecimalPipe, currencySrv: CurrencyService, dom: DomSanitizer);\n    process(options: STDataSourceOptions): Observable<STDataSourceResult>;\n    private get;\n    private getByRemote;\n    optimizeData(options: {\n        columns: _STColumn[];\n        result: STData[];\n        rowClassName?: STRowClassName;\n    }): STData[];\n    getNoIndex(item: STData, col: _STColumn, idx: number): number;\n    private genButtons;\n    private getValidSort;\n    private getSorterFn;\n    get nextSortTick(): number;\n    getReqSortMap(singleSort: STSingleSort | undefined, multiSort: STMultiSort | undefined, columns: _STColumn[]): STMultiSortResultType;\n    private getFilteredData;\n    private getReqFilterMap;\n    private genStatistical;\n    private getStatistical;\n    private toFixed;\n    private getValues;\n    private getSum;\n}\n"]}