import { tick } from '@angular/core/testing';
import { By } from '@angular/platform-browser';
import { NzDropDownDirective } from 'ng-zorro-antd/dropdown';
import { dispatchFakeEvent } from './dispatch-events';
export const DROPDOWN_MIN_TIME = 1000;
/**
 * 触发 dropdown
 */
export function dispatchDropDown(dl, trigger, allowNull = true) {
    const directive = dl.query(By.directive(NzDropDownDirective));
    if (allowNull && directive == null) {
        return false;
    }
    const el = directive.injector.get(NzDropDownDirective).elementRef.nativeElement;
    if (trigger === 'click') {
        dispatchFakeEvent(el, 'click');
    }
    else {
        dispatchFakeEvent(el, 'mouseenter');
    }
    tick(DROPDOWN_MIN_TIME);
    return true;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiem9ycm8uanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9wYWNrYWdlcy90ZXN0aW5nL3NyYy96b3Jyby50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQSxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sdUJBQXVCLENBQUM7QUFDN0MsT0FBTyxFQUFFLEVBQUUsRUFBRSxNQUFNLDJCQUEyQixDQUFDO0FBRS9DLE9BQU8sRUFBRSxtQkFBbUIsRUFBRSxNQUFNLHdCQUF3QixDQUFDO0FBRTdELE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBRXRELE1BQU0sQ0FBQyxNQUFNLGlCQUFpQixHQUFHLElBQUksQ0FBQztBQUV0Qzs7R0FFRztBQUNILE1BQU0sVUFBVSxnQkFBZ0IsQ0FDOUIsRUFBZ0IsRUFDaEIsT0FBK0IsRUFDL0IsWUFBcUIsSUFBSTtJQUV6QixNQUFNLFNBQVMsR0FBRyxFQUFFLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxTQUFTLENBQUMsbUJBQW1CLENBQUMsQ0FBQyxDQUFDO0lBQzlELElBQUksU0FBUyxJQUFJLFNBQVMsSUFBSSxJQUFJLEVBQUU7UUFDbEMsT0FBTyxLQUFLLENBQUM7S0FDZDtJQUNELE1BQU0sRUFBRSxHQUFHLFNBQVMsQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFzQixtQkFBbUIsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxhQUE0QixDQUFDO0lBQ3BILElBQUksT0FBTyxLQUFLLE9BQU8sRUFBRTtRQUN2QixpQkFBaUIsQ0FBQyxFQUFFLEVBQUUsT0FBTyxDQUFDLENBQUM7S0FDaEM7U0FBTTtRQUNMLGlCQUFpQixDQUFDLEVBQUUsRUFBRSxZQUFZLENBQUMsQ0FBQztLQUNyQztJQUNELElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO0lBQ3hCLE9BQU8sSUFBSSxDQUFDO0FBQ2QsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERlYnVnRWxlbWVudCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgdGljayB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUvdGVzdGluZyc7XG5pbXBvcnQgeyBCeSB9IGZyb20gJ0Bhbmd1bGFyL3BsYXRmb3JtLWJyb3dzZXInO1xuXG5pbXBvcnQgeyBOekRyb3BEb3duRGlyZWN0aXZlIH0gZnJvbSAnbmctem9ycm8tYW50ZC9kcm9wZG93bic7XG5cbmltcG9ydCB7IGRpc3BhdGNoRmFrZUV2ZW50IH0gZnJvbSAnLi9kaXNwYXRjaC1ldmVudHMnO1xuXG5leHBvcnQgY29uc3QgRFJPUERPV05fTUlOX1RJTUUgPSAxMDAwO1xuXG4vKipcbiAqIOinpuWPkSBkcm9wZG93blxuICovXG5leHBvcnQgZnVuY3Rpb24gZGlzcGF0Y2hEcm9wRG93bihcbiAgZGw6IERlYnVnRWxlbWVudCxcbiAgdHJpZ2dlcjogJ21vdXNlbGVhdmUnIHwgJ2NsaWNrJyxcbiAgYWxsb3dOdWxsOiBib29sZWFuID0gdHJ1ZVxuKTogYm9vbGVhbiB7XG4gIGNvbnN0IGRpcmVjdGl2ZSA9IGRsLnF1ZXJ5KEJ5LmRpcmVjdGl2ZShOekRyb3BEb3duRGlyZWN0aXZlKSk7XG4gIGlmIChhbGxvd051bGwgJiYgZGlyZWN0aXZlID09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgY29uc3QgZWwgPSBkaXJlY3RpdmUuaW5qZWN0b3IuZ2V0PE56RHJvcERvd25EaXJlY3RpdmU+KE56RHJvcERvd25EaXJlY3RpdmUpLmVsZW1lbnRSZWYubmF0aXZlRWxlbWVudCBhcyBIVE1MRWxlbWVudDtcbiAgaWYgKHRyaWdnZXIgPT09ICdjbGljaycpIHtcbiAgICBkaXNwYXRjaEZha2VFdmVudChlbCwgJ2NsaWNrJyk7XG4gIH0gZWxzZSB7XG4gICAgZGlzcGF0Y2hGYWtlRXZlbnQoZWwsICdtb3VzZWVudGVyJyk7XG4gIH1cbiAgdGljayhEUk9QRE9XTl9NSU5fVElNRSk7XG4gIHJldHVybiB0cnVlO1xufVxuIl19